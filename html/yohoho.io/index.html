<!DOCTYPE html>
<html>
<head>
    <title>yohoho.io - StrongDog XP</title>
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            margin: 0;
            padding: 0;
            background-color: #2e2e2e;
            color: #e0e0e0;
        }

        .header {
            background-color: #3c3c3c;
            padding: 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-bottom: 3px solid #ff8c00;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
        }

        .header-logo {
            text-decoration: none;
            font-size: 36px;
            font-weight: bold;
            transition: color 0.3s;
        }

        .header-logo span:nth-child(1) {
            color: #ffffff;
        }

        .header-logo span:nth-child(2) {
            color: #ff8c00;
        }

        .header-logo:hover span:nth-child(1) {
            color: #e0e0e0;
        }

        .nav-links {
            display: flex;
            gap: 30px;
        }

        .nav-links a {
            color: #e0e0e0;
            text-decoration: none;
            font-size: 18px;
            font-weight: bold;
            transition: color 0.3s;
        }

        .nav-links a:hover {
            color: #ff8c00;
        }

        .content {
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 40px;
        }

        .ad {
            width: 120px;
            height: 300px;
            background-color: #4a4a4a;
            margin: 0 20px;
            border-radius: 10px;
            box-shadow: 0 4px 10px rgba(0, 0, 0, 0.5);
        }

        .game-container {
            flex-shrink: 0;
            width: 85%;
            height: 700px;
            margin: 20px auto;
            background-color: #3a3a3a;
            position: relative;
            overflow: hidden;
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
        }

        .game-container iframe {
            width: 100%;
            height: 100%;
            border: none;
            display: block;
            border-radius: 20px;
        }

        .game-bar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            background-color: #3a3a3a;
            border-radius: 10px;
            padding: 20px;
            margin: 30px auto;
            width: 85%;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.7);
        }

        .fullscreen-button {
            padding: 10px 20px;
            background-color: #ff8c00;
            color: #fff;
            border: none;
            cursor: pointer;
            border-radius: 5px;
            transition: background-color 0.3s;
            font-weight: bold;
        }

        .fullscreen-button:hover {
            background-color: #ff6a00;
        }

        .cards-section {
            background-color: #3a3a3a;
            padding: 50px;
            text-align: center;
            border-radius: 20px;
            box-shadow: 0 8px 16px rgba(0, 0, 0, 0.7);
            margin: 40px;
        }

        .card-container {
            display: flex;
            justify-content: center;
            flex-wrap: wrap;
            gap: 30px;
        }

        .card {
            display: block;
            width: 200px;
            text-align: center;
            background-color: #4a4a4a;
            border-radius: 15px;
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.8);
            overflow: hidden;
            text-decoration: none;
            color: #e0e0e0;
            transition: transform 0.3s, box-shadow 0.3s;
        }

        .card:hover {
            transform: translateY(-10px);
            box-shadow: 0 15px 30px rgba(0, 0, 0, 1);
        }

        .card img {
            width: 100%;
            height: 150px;
            object-fit: cover;
            border-top-left-radius: 15px;
            border-top-right-radius: 15px;
        }

        .card figcaption {
            padding: 15px;
            font-size: 16px;
            color: #ff8c00;
        }
    </style>
</head>
<body>
    <div class="header">
        <a href="../../index.html" class="header-logo">
            <span>StrongDog</span>
            <span>XP</span>
        </a>
    </div>

    <div class="content">
        <div class="ad ad-left">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056" crossorigin="anonymous"></script>
            <!-- in game ads -->
            <ins class="adsbygoogle" style="display:inline-block;width:120px;height:300px" data-ad-client="ca-pub-1609993827735056" data-ad-slot="3552085788"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
        <div class="game-container" id="gameContainer">
            <!-- Game Embed Will Go Here -->
        </div>
        <div class="ad ad-right">
            <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-1609993827735056" crossorigin="anonymous"></script>
            <!-- in game ads -->
            <ins class="adsbygoogle" style="display:inline-block;width:120px;height:300px" data-ad-client="ca-pub-1609993827735056" data-ad-slot="3552085788"></ins>
            <script>
                (adsbygoogle = window.adsbygoogle || []).push({});
            </script>
        </div>
    </div>

    <div class="game-bar">
        <span id="gameTitle">Game Title</span>
        <span id="favoriteIcon" class="favorite-icon" style="cursor: pointer; font-size: 24px;">&#9734;</span>
        <button id="fullscreenButton" class="fullscreen-button">Fullscreen</button>
    </div>

    <div class="cards-section">
        <h2>Recommended Games</h2>
        <div class="card-container" id="cardContainer">
            <!-- Cards will be loaded here -->
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            var fullscreenButton = document.getElementById('fullscreenButton');
            var gameContainer = document.getElementById('gameContainer');
            var gameTitle = document.getElementById('gameTitle');

            function embedGame(gamePath, title) {
                var iframe = document.createElement('iframe');
                iframe.src = gamePath;
                gameContainer.innerHTML = '';
                gameContainer.appendChild(iframe);
                gameTitle.textContent = title;
            }

            embedGame('./game/index.html', 'yohoho.io');

            fullscreenButton.addEventListener('click', function() {
                if (gameContainer.requestFullscreen) {
                    gameContainer.requestFullscreen();
                } else if (gameContainer.webkitRequestFullscreen) {
                    gameContainer.webkitRequestFullscreen();
                } else if (gameContainer.msRequestFullscreen) {
                    gameContainer.msRequestFullscreen();
                }
            });
        });
    </script>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const favoriteIcon = document.getElementById('favoriteIcon');
            const gameTitle = document.getElementById('gameTitle').textContent;

            function toggleFavorite() {
                let favorites = JSON.parse(localStorage.getItem('favorites') || '{}');
                const imagePath = './img/' + gameTitle + '.jpg';

                if (favorites[gameTitle]) {
                    delete favorites[gameTitle];
                } else {
                    favorites[gameTitle] = { path: `./html/${gameTitle}/index.html`, image: imagePath };
                }

                localStorage.setItem('favorites', JSON.stringify(favorites));
                updateFavoriteIcon(favorites, gameTitle);
            }

            function updateFavoriteIcon(favorites, title) {
                if (favorites[title]) {
                    favoriteIcon.innerHTML = '&#9733;';
                } else {
                    favoriteIcon.innerHTML = '&#9734;';
                }
            }

            const favorites = JSON.parse(localStorage.getItem('favorites') || '{}');
            updateFavoriteIcon(favorites, gameTitle);

            favoriteIcon.addEventListener('click', function() {
                toggleFavorite();
            });
        });
    </script>

    <script>
        window.onload = function() {
            var titleElement = document.getElementById('gameTitle');
            var title = titleElement.textContent;

            fetch('https://script.google.com/macros/s/AKfycbx1xYwL2QqkOQHyeCWIVSMVLP_XXts5zpb0M-vbvlRl1MpRYYcv4NI-i8OaGc0YP0wpsg/exec?title=' + encodeURIComponent(title), {
                method: 'GET'
            })
            .then(response => response.text())
            .then(result => console.log(result))
            .catch(error => console.error('Error:', error));
        };
    </script>

<script>
    document.addEventListener('DOMContentLoaded', function() {
        fetch('../../cards_data.html')
            .then(response => response.text())
            .then(data => {
                const parser = new DOMParser();
                const doc = parser.parseFromString(data, 'text/html');
                const cards = doc.querySelectorAll('.card');
                const cardContainer = document.getElementById('cardContainer');
                
                let randomCards = Array.from(cards).sort(() => 0.5 - Math.random()).slice(0, 10);
                randomCards.forEach(card => {
                    // Update href and img src to go back two directories
                    card.href = `../../${card.getAttribute('href')}`;
                    
                    const img = card.querySelector('img');
                    if (img) {
                        img.src = `../../${img.getAttribute('src')}`;
                    }

                    cardContainer.appendChild(card);
                });
            })
            .catch(error => console.error('Error loading cards:', error));
    });
</script>

</body>
</html>
